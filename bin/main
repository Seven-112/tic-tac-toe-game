#!/usr/bin/env ruby
# frozen_string_literal: true

# rubocop:disable Style/ConditionalAssignment

# Gets player names
puts 'Player1 enter your name'
player_one = gets.chomp
while player_one.size < 3 || player_one.size > 10
  puts 'Player1 name must not be less than 3 characters and not morethan 10 charaters'
  player_one = gets.chomp
end
puts "\nPlayer2 enter your name"
player_two = gets.chomp
while player_two.size < 3 || player_two.size > 10 || player_two == player_one
  puts 'Player2 name must not be less than 3 characters and not morethan 10 charaters and different from player1 name'
  player_two = gets.chomp
end

# Display players names
puts "\nThe first player is #{player_one}"
puts "The second player is #{player_two}"

# Chosing a symbol
puts "\nChoose a symbol 'x' or 'o' to play"

puts "\n#{player_one}, you are the first player, choose a symbol: "

player1_symb = gets.chomp
while player1_symb != 'x' && player1_symb != 'o'
  puts 'Player1, choose a symbol "x" or "o" '
  player1_symb = gets.chomp
end

player1_symb == 'x' ? player2_symb = 'o' : player2_symb = 'x'

# Display the board
puts "\nLet's start, #{player_one} (#{player1_symb}) and #{player_two} (#{player2_symb})"
puts '+---+---+---+'
puts '| 1 | 2 | 3 |'
puts '+---+---+---+'
puts '| 4 | 5 | 6 |'
puts '+---+---+---+'
puts '| 7 | 8 | 9 |'
puts '+---+---+---+'

# Select player choices
game_on = true
while game_on
  puts "\n#{player_one} please select a number from 1-9 on the board"

  player_one_choice = gets.chomp.to_i
  while player_one_choice < 1 || player_one_choice > 9
    puts "#{player_one}, please choose the right number"
    player_one_choice = gets.chomp.to_i
  end

  puts '+---+---+---+'
  puts '| x | 2 | 3 |'
  puts '+---+---+---+'
  puts '| 4 | 5 | 6 |'
  puts '+---+---+---+'
  puts '| 7 | 8 | 9 |'
  puts '+---+---+---+'

  puts "\n#{player_two} please select a number from 1-9 on the board"
  player_two_choice = gets.chomp.to_i
  while player_one_choice == player_two_choice || player_two_choice < 1 || player_two_choice > 9
    if player_one_choice == player_two_choice
      puts 'This number has already been taken'
    else
      puts "#{player_two}, please choose the right number"
    end
    player_two_choice = gets.chomp.to_i
  end

  puts '+---+---+---+'
  puts '| x | o | o |'
  puts '+---+---+---+'
  puts '| o | x | o |'
  puts '+---+---+---+'
  puts '| x | x | o |'
  puts '+---+---+---+'

  message1 = "Great move #{player_one}, you won the game!"
  if message1
    puts message1
    game_on = false
  elsif message2
    puts '+---+---+---+'
    puts '| x | o | x |'
    puts '+---+---+---+'
    puts '| o | x | o |'
    puts '+---+---+---+'
    puts '| o | x | o |'
    puts '+---+---+---+'
    message2 = 'The game is tie!'
    puts message2
    game_on = false
  end

end

# rubocop:enable Style/ConditionalAssignment
